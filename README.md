# Kafka-project
Project with examples of using Kafka producer, kafka consumer and Kafka Streams.

## Technology
- Java 13
- Maven
- Kafka Clients 2.5.0
- Kafka Streams 2.5.0
- Vavr 0.10.3
### Producer 
It ends a random user generated by API https://randomuser.me/api/  
##### Configuration  
- acks: all  
- idempotence: true   
- compression: snappy  
- Linger: 50ms  
- Batch size: 32kb  
### Consumer
It prints data from topics: "user-topic, country-age-range-topic, gender-count-topic" to the console  
##### Configuration  
- auto.commit: false
- manual commit offset
- Strategy: at least once

### Kafka Processors
- #### user-kafka-streams-app
It retrieves data from the topic: user-general-topic, maps it to the User class and it sends results to the topic: user-topic  

- #### gender-kafka-streams-app
It retrieves data from the topic: user-topic, counts number of men and women and it sends results to the topic: gender-count-topic  
- #### country-kafka-streams-app
It retrieves data from the topic: user-topic, calculates the average age in a given country and it sends results to the topic: country-average-age-topic  
Also it retrieves data from the topic: country-average-age-topic, defines the age range for a given country and it sends results to the topic: country-age-range-topic  

## Diagram
![not_found](https://github.com/DawidR1/kafka-project/blob/master/content/diagram.png)
